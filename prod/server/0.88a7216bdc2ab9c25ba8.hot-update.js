exports.id=0,exports.modules={"./src/server/server.js":function(e,o,n){"use strict";n.r(o);var t=n("./build/contracts/FlightSuretyApp.json"),s=n("./src/server/config.json"),l=n("web3"),r=n.n(l),c=n("express"),a=n.n(c);console.log("Checking to see what the server does at startup. Does it execute this console log line"),console.log("Generating 20 random numbers to be between 1 to 6");for(var i=0;i<20;i++)Math.ceil(10*Math.random());Math.ceil(10*Math.random());var u=s.localhost,g=[],f=[],d=new r.a(new r.a.providers.WebsocketProvider(u.url.replace("http","ws"))),h=new d.eth.Contract(t.abi,u.appAddress),m=null;function v(e,o,n){h.methods.submitOracleResponse(e.index,e.airline,e.flight,e.timestamp,20).send({from:f[o],gas:u.gas},function(e,o){console.log("Inside the submitOracleResponse call back function"),console.log(e,o),n(e,o)})}d.eth.getAccounts(function(e,o){console.log("Inside the getAccounts callback function"),e&&console.log(e),m=o[49],console.log("20 Addresses of accounts available for use from accts[10] to accts[29]");for(var n=function(e){var n,t,s;console.log(o[e]),n=o[e],t=function(n,t){f[e-10]=o[e],function(e,o){h.methods.getMyIndexes().call({from:e},function(e,n){o(e,n)})}(o[e],function(o,n){var t;g[e-10]=n,console.log(g[e-10]),29==e&&(t=function(e,o){},h.methods.getBalance().call({from:m},function(e,o){console.log("Inside the getAppBalance Function - Print App balance or error"),console.log(e,o),t(e,o)}))})},s=d.utils.toWei("1","ether"),h.methods.registerOracle().send({from:n,value:s,gas:u.gas},function(e,o){console.log("Inside the server.js file - registerOracle function"),console.log(e,o),t(e,o)})},t=10;t<30;t++)n(t)}),h.events.OracleRequest({fromBlock:0},function(e,o){e&&console.log(e),console.log("Inside the Server.js file and inside the OracleRequest() event listener on the server"),console.log(o),console.log("index = "+o.returnValues.index),console.log("airline = "+o.returnValues.airline),e?console.log("event emitted has an error - double check"):function(e){console.log("Inside the processOracleRequest function "),console.log("Current index and flight being processed = "+e.returnValues.index+" "+e.returnValues.flight),console.log("Total Number of oracles registered on Blockchain = "+g.length);for(var o={index:e.returnValues.index,flight:e.returnValues.flight,airline:e.returnValues.airline,timestamp:e.returnValues.timestamp},n=0;n<g.length;n++)for(var t=0;t<3;t++)g[n][t]==o.index&&(console.log("Oracle at i= "+n+" matches with event index, and the oracleIndex[i] is "+g[n]),v(o,n,function(e,o){}))}(o)}),h.events.OracleReport({fromBlock:0},function(e,o){console.log("Event OracleReport was emitted and the event is as follows"),console.log(o)}),h.events.FlightStatusInfo({fromBlock:0},function(e,o){console.log("Event FlightStatusInfo was emitted and the event is as follows"),console.log(o)});var p=a()();p.get("/api",function(e,o){o.send({message:"An API for use with your Dapp!"})}),o.default=p}};